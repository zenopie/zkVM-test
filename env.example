# ============================================================
# MONERO RANDOMX ZKVM - ENVIRONMENT VARIABLES
# Version: v18
# ============================================================

# ------------------------------------------------------------
# PROOF MODE (required)
# ------------------------------------------------------------
# Which proof to generate:
#   cache     - Prove full cache hash (64 segments, ~21h on GPU)
#   block     - Prove block PoW only (Phase 2, requires cache already proven)
#   challenge - Prove single segment (fraud proof, ~21min on GPU)
#   full      - Prove cache + block (complete verification)
PROOF_MODE=full

# ------------------------------------------------------------
# TEST MODE (required)
# ------------------------------------------------------------
# Input data source:
#   true  - Use dummy test block header and test RandomX key (for development)
#   false - Use real Monero block data from environment variables below
TEST_MODE=true

# ------------------------------------------------------------
# CHALLENGE MODE OPTIONS
# ------------------------------------------------------------
# Which segment to prove (0-63) when PROOF_MODE=challenge
CHALLENGE_SEGMENT=0

# ------------------------------------------------------------
# REAL DATA INPUTS (required when TEST_MODE=false)
# ------------------------------------------------------------
# Hex-encoded 32-byte RandomX key (derived from block at height - height % 2048)
# Example: key for a specific seed block
RANDOMX_KEY=deadbeefcafebabe123456789abcdef0112233445566778899aabbccddeeff00

# Hex-encoded block hashing blob (from get_block_template or block data)
# This is the data that gets hashed by RandomX
HASHING_BLOB=0e0e86da0600000000000000000000000000000000000000000000000000000000000000785634120000000000000000000000000000000000000000000000000000000000000000

# Block height (optional, for logging purposes)
BLOCK_HEIGHT=3000000

# Target difficulty (optional, default: 1)
# Set to actual network difficulty for real verification
DIFFICULTY=1

# ------------------------------------------------------------
# PROVER BACKEND
# ------------------------------------------------------------
# Which proving backend to use:
#   local - CPU proving (slow, ~100x slower than GPU)
#   cuda  - NVIDIA GPU proving (requires CUDA)
#   metal - Apple GPU proving (requires Metal)
RISC0_PROVER=local

# ------------------------------------------------------------
# LOGGING
# ------------------------------------------------------------
# Rust log levels for debugging
RUST_LOG=info,risc0_zkvm=debug,risc0_circuit_rv32im=info,risc0_prover=debug

# Enable full backtraces on errors
RUST_BACKTRACE=full

# ============================================================
# EXAMPLE CONFIGURATIONS
# ============================================================

# --- Test mode: Full proof with dummy data ---
# PROOF_MODE=full
# TEST_MODE=true
# RISC0_PROVER=cuda

# --- Test mode: Single segment challenge (fraud proof) ---
# PROOF_MODE=challenge
# CHALLENGE_SEGMENT=5
# TEST_MODE=true
# RISC0_PROVER=cuda

# --- Real mode: Verify actual Monero block ---
# PROOF_MODE=block
# TEST_MODE=false
# RANDOMX_KEY=<hex-encoded-32-bytes>
# HASHING_BLOB=<hex-encoded-hashing-blob>
# BLOCK_HEIGHT=3000000
# DIFFICULTY=100000000
# RISC0_PROVER=cuda

# --- Real mode: Full cache + block for unlimited deposits ---
# PROOF_MODE=full
# TEST_MODE=false
# RANDOMX_KEY=<hex-encoded-32-bytes>
# HASHING_BLOB=<hex-encoded-hashing-blob>
# BLOCK_HEIGHT=3000000
# DIFFICULTY=100000000
# RISC0_PROVER=cuda
